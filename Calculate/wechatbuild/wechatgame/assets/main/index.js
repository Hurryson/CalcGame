window.__require=function t(e,r,n){function o(i,a){if(!r[i]){if(!e[i]){var c=i.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!a&&p)return p(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){return o(e[i][1][t]||t)},u,u.exports,t,e,r,n)}return r[i].exports}for(var s="function"==typeof __require&&__require,i=0;i<n.length;i++)o(n[i]);return o}({AnswerBase:[function(t,e,r){"use strict";cc._RF.push(e,"2488dbQRv5MDpxCH3AJZsRQ","AnswerBase");var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,i=s.ccclass,a=s.property,c=function(){return function(t,e,r,n){this.symbol=t,this.num1=e,this.num2=r,this.result=n}}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.answerMax=5,e.answerInterval=1,e.currAnswerID=0,e.currAnswer=0,e.reportPanel=null,e.result=null,e.reportBack=null,e.totalTimerReportLabel=null,e}return n(e,t),e.prototype.start=function(){this.main=cc.find("Canvas/Scripts").getComponent("Main"),this.answerUI=cc.find("Canvas/Answer").getComponent("AnswerUI")},e.prototype.initAnswer=function(t){this.answerMax=t,this.currAnswerID=0,this.answerDatas=new Array;for(var e=0;e<this.answerMax;e++)this.randomAnswer(),this.answerDatas[e]=this.answerDataTemp;this.updateCurrAnswer(),this.updateNextAnswer()},e.prototype.resetGame=function(){this.initAnswer(10),this.main.startGame()},e.prototype.randomNum=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.prototype.randomAddAnswer=function(){var t=this.randomNum(0,9),e=this.randomNum(0,t),r=t-e;this.answerDataTemp=new c("+",e,r,t)},e.prototype.randomSubAnswer=function(){var t=this.randomNum(0,9),e=this.randomNum(t,9),r=e-t;this.answerDataTemp=new c("-",e,r,t)},e.prototype.randomAnswer=function(){0==this.randomNum(0,1)?this.randomAddAnswer():this.randomSubAnswer()},e.prototype.getCurrAnswerResult=function(){if(this.currAnswerID<this.answerDatas.length)return this.answerDatas[this.currAnswerID].result},e.prototype.updateCurrAnswer=function(){if(this.currAnswerID<this.answerMax){var t=this.answerDatas[this.currAnswerID];this.answerUI.updateCurrCalcUI(this.currAnswerID+1,t.symbol,t.num1,t.num2,t.result)}},e.prototype.updateNextAnswer=function(){if(this.currAnswerID<this.answerMax-this.answerInterval){var t=this.answerDatas[this.currAnswerID+this.answerInterval];this.answerUI.updateNextCalcUI(this.currAnswerID+ +this.answerInterval+1,t.symbol,t.num1,t.num2,t.result)}},e.prototype.updateCompare=function(t){this.answerDatas[this.currAnswerID].compare=t},e.prototype.nextAnswer=function(){this.currAnswerID<this.answerMax&&(this.main.resetCurrAnswerTimer(),this.currAnswerID+=1,this.updateCurrAnswer(),this.updateNextAnswer()),console.log("count "+this.currAnswerID),this.currAnswerID==this.answerMax&&this.main.stopGame()},e.prototype.spawnResultReport=function(){this.reportPanel.active=!0;for(var t=0;t<this.answerMax;t++){var e=cc.instantiate(this.result);e.parent=this.reportBack;var r=e.getChildByName("Back");e.getChildByName("Label").getComponent(cc.Label).string=t.toString();0==this.answerDatas[t].compare?r.color=cc.Color.GREEN:r.color=cc.Color.RED,this.totalTimerReportLabel.string="\u603b\u7528\u65f6\uff1a"+this.main.leveltimer.toFixed(1)+" \u79d2\uff01"}},e.prototype.closeResultReport=function(){this.reportPanel.active=!1,this.main.clearUI()},o([a(cc.Node)],e.prototype,"reportPanel",void 0),o([a(cc.Prefab)],e.prototype,"result",void 0),o([a(cc.Node)],e.prototype,"reportBack",void 0),o([a(cc.Label)],e.prototype,"totalTimerReportLabel",void 0),e=o([i],e)}(cc.Component);r.default=p,cc._RF.pop()},{}],AnswerUI:[function(t,e,r){"use strict";cc._RF.push(e,"0401d+p2JFJSY4VKnUOHrwr","AnswerUI");var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,i=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.nextAnswerTitle=null,e.nextAnswerLabel=null,e.currAnswerTitle=null,e.currAnswerLabel=null,e.resultLabel=null,e}return n(e,t),e.prototype.updateCurrCalcUI=function(t,e,r,n,o){this.currAnswerTitle.string="\u7b2c"+t+"\u9898",this.currAnswerLabel.string=r+" "+e+" "+n+" = ?"},e.prototype.updateNextCalcUI=function(t,e,r,n,o){this.nextAnswerTitle.string="\u7b2c"+t+"\u9898",this.nextAnswerLabel.string=r+" "+e+" "+n+" = ?"},e.prototype.updateResultLabel=function(t,e){this.resultLabel.string=t,this.resultLabel.node.color=e},o([a(cc.Label)],e.prototype,"title",void 0),o([a(cc.Label)],e.prototype,"nextAnswerTitle",void 0),o([a(cc.Label)],e.prototype,"nextAnswerLabel",void 0),o([a(cc.Label)],e.prototype,"currAnswerTitle",void 0),o([a(cc.Label)],e.prototype,"currAnswerLabel",void 0),o([a(cc.Label)],e.prototype,"resultLabel",void 0),e=o([i],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],Main:[function(t,e,r){"use strict";cc._RF.push(e,"92620j2ld9J/4Bw/4ord4kp","Main");var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,i=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPlaying=!1,e.leveltimer=0,e.perAnswerTimeLimit=2,e.answerTimer=0,e.startBtn=null,e.timerLabel=null,e}return n(e,t),e.prototype.start=function(){this.answerBase=cc.find("Canvas/Scripts").getComponent("AnswerBase"),this.answerUI=cc.find("Canvas/Answer").getComponent("AnswerUI")},e.prototype.update=function(t){1==this.isPlaying&&(this.leveltimer+=t,this.timerLabel.string="\u603b\u7528\u65f6\uff1a"+this.leveltimer.toFixed(1),this.answerTimer+=t,this.answerTimer>this.perAnswerTimeLimit&&(this.answerBase.nextAnswer(),this.answerUI.updateResultLabel("\u8d85\u65f6",cc.Color.RED),this.answerTimer=0))},e.prototype.resetCurrAnswerTimer=function(){this.answerTimer=0},e.prototype.startGame=function(){this.resetCurrAnswerTimer(),this.startBtn.node.active=!1,this.leveltimer=0,this.isPlaying=!0,this.answerUI.updateResultLabel("",cc.Color.RED)},e.prototype.stopGame=function(){this.isPlaying=!1,this.answerBase.spawnResultReport(),this.startBtn.node.active=!0},e.prototype.clearUI=function(){this.leveltimer=0,this.timerLabel.string="\u603b\u7528\u65f6\uff1a"+this.leveltimer.toFixed(1),this.answerUI.updateResultLabel("",cc.Color.RED)},o([a(cc.Button)],e.prototype,"startBtn",void 0),o([a(cc.Label)],e.prototype,"timerLabel",void 0),e=o([i],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],SimpleKey:[function(t,e,r){"use strict";cc._RF.push(e,"2b1f369M2hGdpBe5vRuzsnQ","SimpleKey");var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,i=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return n(e,t),e.prototype.start=function(){this.label=this.getComponentInChildren(cc.Label),this.answerBase=cc.find("Canvas/Scripts").getComponent("AnswerBase"),this.answerUI=cc.find("Canvas/Answer").getComponent("AnswerUI"),this.main=cc.find("Canvas/Scripts").getComponent("Main");var t=new cc.Component.EventHandler;t.target=this.node,t.component="SimpleKey",t.handler="OnClickBtn",t.customEventData=this.label.string,this.node.getComponent(cc.Button).clickEvents.push(t)},e.prototype.update=function(t){},e.prototype.OnClickBtn=function(t,e){console.log(e);var r=this.answerBase.getCurrAnswerResult(),n=e;"\u91cd\u7f6e"==n?(this.answerBase.resetGame(),this.answerBase.initAnswer(5)):"\u8df3\u8fc7"==n?console.log("\u8df3\u8fc7"):1==this.main.isPlaying&&(r==n?(console.log("right"),this.answerUI.updateResultLabel("\u6b63\u786e",cc.Color.GREEN),this.answerBase.updateCompare(0),this.answerBase.nextAnswer()):(console.log("wrong"),this.answerBase.updateCompare(1),this.answerUI.updateResultLabel("\u9519\u8bef",cc.Color.RED)))},o([a(cc.Label)],e.prototype,"label",void 0),e=o([i],e)}(cc.Component);r.default=c,cc._RF.pop()},{}]},{},["AnswerBase","AnswerUI","Main","SimpleKey"]);